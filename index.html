<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_jyp25ko3hxv7-4{list-style-type:none}ul.lst-kix_549ua0l6suxw-6{list-style-type:none}ul.lst-kix_jyp25ko3hxv7-3{list-style-type:none}ul.lst-kix_549ua0l6suxw-7{list-style-type:none}ul.lst-kix_jyp25ko3hxv7-2{list-style-type:none}ul.lst-kix_549ua0l6suxw-4{list-style-type:none}ul.lst-kix_jyp25ko3hxv7-1{list-style-type:none}ul.lst-kix_549ua0l6suxw-5{list-style-type:none}ul.lst-kix_jyp25ko3hxv7-0{list-style-type:none}ul.lst-kix_549ua0l6suxw-8{list-style-type:none}ul.lst-kix_549ua0l6suxw-2{list-style-type:none}.lst-kix_549ua0l6suxw-8>li:before{content:"\0025a0  "}ul.lst-kix_549ua0l6suxw-3{list-style-type:none}ul.lst-kix_549ua0l6suxw-0{list-style-type:none}ul.lst-kix_549ua0l6suxw-1{list-style-type:none}.lst-kix_31h5f04ur9gl-7>li:before{content:"\0025cb  "}.lst-kix_31h5f04ur9gl-8>li:before{content:"\0025a0  "}.lst-kix_jyp25ko3hxv7-0>li:before{content:"\0025cf  "}.lst-kix_jyp25ko3hxv7-1>li:before{content:"\0025cb  "}.lst-kix_jyp25ko3hxv7-4>li:before{content:"\0025cb  "}.lst-kix_jyp25ko3hxv7-5>li:before{content:"\0025a0  "}.lst-kix_jyp25ko3hxv7-6>li:before{content:"\0025cf  "}ul.lst-kix_31h5f04ur9gl-1{list-style-type:none}ul.lst-kix_31h5f04ur9gl-2{list-style-type:none}ul.lst-kix_31h5f04ur9gl-0{list-style-type:none}ul.lst-kix_31h5f04ur9gl-5{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-7{list-style-type:none}ul.lst-kix_31h5f04ur9gl-6{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-6{list-style-type:none}ul.lst-kix_31h5f04ur9gl-3{list-style-type:none}ul.lst-kix_31h5f04ur9gl-4{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-8{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-3{list-style-type:none}ul.lst-kix_bhokhav9482l-7{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-2{list-style-type:none}ul.lst-kix_bhokhav9482l-8{list-style-type:none}.lst-kix_jyp25ko3hxv7-3>li:before{content:"\0025cf  "}ul.lst-kix_31h5f04ur9gl-7{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-5{list-style-type:none}ul.lst-kix_bhokhav9482l-5{list-style-type:none}ul.lst-kix_31h5f04ur9gl-8{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-4{list-style-type:none}ul.lst-kix_bhokhav9482l-6{list-style-type:none}.lst-kix_jyp25ko3hxv7-2>li:before{content:"\0025a0  "}ul.lst-kix_7c4ahfbmxbcz-1{list-style-type:none}ul.lst-kix_7c4ahfbmxbcz-0{list-style-type:none}ul.lst-kix_bhokhav9482l-0{list-style-type:none}ul.lst-kix_bhokhav9482l-3{list-style-type:none}ul.lst-kix_bhokhav9482l-4{list-style-type:none}ul.lst-kix_bhokhav9482l-1{list-style-type:none}ul.lst-kix_bhokhav9482l-2{list-style-type:none}.lst-kix_jyp25ko3hxv7-8>li:before{content:"\0025a0  "}.lst-kix_jyp25ko3hxv7-7>li:before{content:"\0025cb  "}.lst-kix_bhokhav9482l-6>li:before{content:"\0025cf  "}.lst-kix_31h5f04ur9gl-1>li:before{content:"\0025cb  "}.lst-kix_31h5f04ur9gl-3>li:before{content:"\0025cf  "}.lst-kix_7c4ahfbmxbcz-8>li:before{content:"\0025a0  "}.lst-kix_bhokhav9482l-3>li:before{content:"\0025cf  "}.lst-kix_bhokhav9482l-7>li:before{content:"\0025cb  "}.lst-kix_31h5f04ur9gl-2>li:before{content:"\0025a0  "}.lst-kix_31h5f04ur9gl-6>li:before{content:"\0025cf  "}.lst-kix_549ua0l6suxw-2>li:before{content:"\0025a0  "}.lst-kix_bhokhav9482l-2>li:before{content:"\0025a0  "}.lst-kix_549ua0l6suxw-1>li:before{content:"\0025cb  "}.lst-kix_31h5f04ur9gl-5>li:before{content:"\0025a0  "}.lst-kix_7c4ahfbmxbcz-6>li:before{content:"\0025cf  "}.lst-kix_549ua0l6suxw-0>li:before{content:"\0025cf  "}.lst-kix_bhokhav9482l-0>li:before{content:"\0025cf  "}.lst-kix_bhokhav9482l-8>li:before{content:"\0025a0  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_bhokhav9482l-1>li:before{content:"\0025cb  "}.lst-kix_31h5f04ur9gl-4>li:before{content:"\0025cb  "}.lst-kix_7c4ahfbmxbcz-7>li:before{content:"\0025cb  "}.lst-kix_549ua0l6suxw-6>li:before{content:"\0025cf  "}.lst-kix_549ua0l6suxw-5>li:before{content:"\0025a0  "}.lst-kix_549ua0l6suxw-7>li:before{content:"\0025cb  "}.lst-kix_7c4ahfbmxbcz-0>li:before{content:"\0025cf  "}.lst-kix_7c4ahfbmxbcz-2>li:before{content:"\0025a0  "}.lst-kix_7c4ahfbmxbcz-1>li:before{content:"\0025cb  "}.lst-kix_7c4ahfbmxbcz-5>li:before{content:"\0025a0  "}.lst-kix_549ua0l6suxw-3>li:before{content:"\0025cf  "}.lst-kix_7c4ahfbmxbcz-4>li:before{content:"\0025cb  "}ul.lst-kix_jyp25ko3hxv7-8{list-style-type:none}.lst-kix_549ua0l6suxw-4>li:before{content:"\0025cb  "}.lst-kix_bhokhav9482l-4>li:before{content:"\0025cb  "}ul.lst-kix_jyp25ko3hxv7-7{list-style-type:none}ul.lst-kix_jyp25ko3hxv7-6{list-style-type:none}.lst-kix_bhokhav9482l-5>li:before{content:"\0025a0  "}ul.lst-kix_jyp25ko3hxv7-5{list-style-type:none}.lst-kix_31h5f04ur9gl-0>li:before{content:"\0025cf  "}.lst-kix_7c4ahfbmxbcz-3>li:before{content:"\0025cf  "}ol{margin:0;padding:0}table td,table th{padding:0}.c6{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:135.8pt;border-top-color:#000000;border-bottom-style:solid}.c47{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.5pt;border-top-color:#000000;border-bottom-style:solid}.c12{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60pt;border-top-color:#000000;border-bottom-style:solid}.c36{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:227.2pt;border-top-color:#000000;border-bottom-style:solid}.c7{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:176.2pt;border-top-color:#000000;border-bottom-style:solid}.c48{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.2pt;border-top-color:#000000;border-bottom-style:solid}.c52{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:121.5pt;border-top-color:#000000;border-bottom-style:solid}.c46{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:117pt;border-top-color:#000000;border-bottom-style:solid}.c30{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c5{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c43{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c11{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c13{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c34{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c50{color:#000000;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Arial";font-style:normal}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c19{text-decoration:none;vertical-align:baseline;font-size:12pt;font-style:normal}.c3{background-color:#ffffff;font-family:"Courier New";color:#008080;font-weight:400}.c14{background-color:#ffffff;font-family:"Courier New";color:#ff0000;font-weight:400}.c2{background-color:#ffffff;font-family:"Courier New";color:#212529;font-weight:400}.c31{text-decoration:none;vertical-align:baseline;font-size:20pt;font-style:normal}.c38{text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:italic}.c8{background-color:#ffffff;font-family:"Courier New";color:#008000;font-weight:400}.c18{background-color:#ffffff;font-family:"Courier New";color:#007788;font-weight:400}.c21{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c9{text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c42{border-spacing:0;border-collapse:collapse;margin-right:auto}.c29{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c26{background-color:#ffffff;font-family:"Courier New";color:#000099;font-weight:700}.c41{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c37{background-color:#ffffff;color:#212529;font-weight:400;font-family:"Arial"}.c0{background-color:#ffffff;font-family:"Courier New";color:#0000dd;font-weight:400}.c54{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c16{color:#000000;font-weight:400;font-family:"Arial"}.c39{background-color:#ffffff;color:#800080}.c10{color:inherit;text-decoration:inherit}.c15{color:#38761d;font-style:italic}.c17{margin-left:36pt;padding-left:0pt}.c27{background-color:#ffffff;color:#000080}.c28{background-color:#ffffff;color:#666666}.c32{background-color:#ffffff;color:#000040}.c22{font-weight:400;font-family:"Courier New"}.c35{margin-left:72pt;padding-left:0pt}.c49{padding:0;margin:0}.c23{background-color:#ffffff;color:#0000ff}.c53{font-weight:400}.c44{font-style:italic}.c24{height:0pt}.c45{color:#6aa84f}.c25{margin-left:36pt}.c40{color:#38761d}.c33{font-weight:700}.c20{height:11pt}.c51{color:#3d85c6}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c54"><h1 class="c30" id="h.egjbu5hwwpcc"><span class="c31 c16">Short description</span></h1><p class="c4"><span class="c9 c16">VL is a C++ library that provides a way to configure data structures for applications from basic types including composite types Object and List which in turn can include any type, so you can get a tree data structure with any level of complexity. The library support conversion to and from JSON.</span></p><p class="c4"><span class="c33">The main purpose</span><span class="c9 c16">&nbsp;of VL is to free your hands from writing data structures using a programming language. It is not needed to write classes like Animal or DeliveryBox with properties like amount, size or color using a high-level programming language. You can achieve even inheritance using just a properly constructed data structure. VL provides all necessary features to achieve this goal.</span></p><h1 class="c30" id="h.o0f3xpg9rqz5"><span class="c31 c16">Features</span></h1><ul class="c49 lst-kix_jyp25ko3hxv7-0 start"><li class="c4 c17 li-bullet-0"><span class="c9 c16">Tree-like structure support through Objects and Lists</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">Aiming to performance and memory usage</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">JS-like behavior</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">Inheritance through Prototyping</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">JSON converter included as a separated library</span></li></ul><h1 class="c30" id="h.lfyhvbuwwpzk"><span class="c31 c16">Supported data types</span></h1><p class="c4 c20"><span class="c9 c16"></span></p><a id="t.103e0d781a362a277dc06d0bdcaeecaed5d10ae2"></a><a id="t.0"></a><table class="c42"><tbody><tr class="c24"><td class="c52" colspan="1" rowspan="1"><p class="c21"><span class="c50 c33">Basic types</span></p></td><td class="c46" colspan="1" rowspan="1"><p class="c21"><span class="c33 c50">Containers</span></p></td></tr><tr class="c24"><td class="c52" colspan="1" rowspan="1"><p class="c41"><span class="c19 c16">Boolean</span></p><p class="c41"><span class="c19 c16">Number</span></p><p class="c41"><span class="c19 c16">String</span></p><p class="c41"><span class="c19 c16">Null</span></p></td><td class="c46" colspan="1" rowspan="1"><p class="c41"><span class="c16 c19">Object</span></p><p class="c41"><span class="c19 c16">List</span></p></td></tr></tbody></table><h2 class="c34" id="h.9e9ynjkowgw2"><span class="c11">Basic types</span></h2><a id="t.23d5f72f756456a9de5d609cf56e207077054c0f"></a><a id="t.1"></a><table class="c42"><tbody><tr class="c24"><td class="c6" colspan="1" rowspan="1"><p class="c21"><span class="c5">Type</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c21"><span class="c5">Value</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c21"><span class="c5">Description</span></p></td></tr><tr class="c24"><td class="c6" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">Boolean</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">true, false</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c21"><span>Standard boolean data type, holds </span><span class="c33">bool </span><span class="c9 c16">type as a data</span></p></td></tr><tr class="c24"><td class="c6" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">Number</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">2.22507e-308 - 1.79769e+308</span></p><p class="c21"><span class="c9 c16">0,1, 2, &hellip;, 0.4, 3.5, e.t.c.</span></p><p class="c21 c20"><span class="c9 c16"></span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c21"><span>Stored as </span><span class="c33">double </span><span class="c9 c16">C++ type. There is no separation between Integer and Float. You can interpret it as Integer if you want in your application as you expect that type in a particular field.</span></p></td></tr><tr class="c24"><td class="c6" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">String</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">Any set of single-byte characters supported by C++</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c21"><span>Single-byte character set. Uses </span><span class="c33">std::string</span><span class="c9 c16">&nbsp;as a data in the storage.</span></p></td></tr><tr class="c24"><td class="c6" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">Null</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c21"><span class="c9 c16">No data</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c21"><span>A variable whose </span><span class="c33">operator bool()</span><span>&nbsp;always returns false. Plus to that the basic class has a method </span><span class="c33">IsNull()</span><span class="c9 c16">&nbsp;to check if an abstract variable is a Null variable.</span></p></td></tr></tbody></table><p class="c4 c20"><span class="c9 c16"></span></p><h2 class="c34" id="h.bn494xthkaqx"><span class="c11">Containers</span></h2><p class="c4"><span class="c50 c53">Container can include:</span></p><ul class="c49 lst-kix_31h5f04ur9gl-0 start"><li class="c4 c17 li-bullet-0"><span class="c9 c16">Basic type</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">Container</span></li></ul><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span>Two types of containers are supported: </span><span class="c33">Object </span><span>and </span><span class="c33">List</span><span>. Both of them conain a data structure for its child nodes that is wrapped into </span><span class="c33">std::shared_ptr</span><span>&nbsp;to prevent copying of the data when assigning one container variable to another. To make a deep copy of a container with it&rsquo;s data there is method </span><span class="c33">Copy()</span><span class="c9 c16">.</span></p><h3 class="c43" id="h.ei0rbbr7mzg7"><span class="c13">Object</span></h3><p class="c4"><span>Object is a tree data structure which can hold any other type including itself under a string-typed key. Uses </span><span class="c33">std::unordered_map</span><span>&nbsp;C++ type as a container for all of the child nodes and </span><span class="c33">std::string</span><span>&nbsp;for keys that is wrapped into </span><span class="c33">std::shared_ptr</span><span class="c9 c16">.</span></p><h3 class="c43" id="h.w0odlq4akgdi"><span class="c13">List</span></h3><p class="c4"><span>List represents the data structure of the same name containing elements in ordered manner. Uses </span><span class="c33">std::vector</span><span>&nbsp;C++ type for storing its child elements that is wrapped into </span><span class="c33">std::shared_ptr</span><span class="c9 c16">..</span></p><h3 class="c43" id="h.i02w0u5vixei"><span class="c13">Example</span></h3><p class="c4"><span>In this example </span><span class="c33 c45">Objects</span><span>&nbsp;are presented as green circles and </span><span class="c33 c51">Lists </span><span class="c9 c16">are blue. Connections of objects with its child nodes contain a text string which represents a key of a child node.</span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 431.00px; height: 512.00px;"><img alt="" src="images/image1.png" style="width: 431.00px; height: 512.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c30" id="h.ruuv4og4kqj2"><span class="c31 c16">Prototyping</span></h1><p class="c4"><span>VL provides more flexibility and extensibility through the prototyping mechanism. It allows you reuse properties of existing objects saving your time, efforts and the data structure space. An Object can inherit another&rsquo;s object properties storing a reference to it in it&rsquo;s &ldquo;proto&rdquo; property. A prototype object can in turn have it&rsquo;s own prototype that with the ascending proto creates a </span><span class="c33">prototype chain</span><span class="c9 c16">. It allows VL to find a requested property through the chain of prototypes if it doesn&rsquo;t exist among the requested object&rsquo;s fields.</span></p><h2 class="c34" id="h.uxp9479wctw4"><span class="c11">Supported features</span></h2><p class="c4"><span class="c9 c16">Using prototyping in VL you can:</span></p><ul class="c49 lst-kix_549ua0l6suxw-0 start"><li class="c4 c17 li-bullet-0"><span class="c9 c16">Inherit one object from another</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">Override a property in a derived object with a new value and type</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">Introduce new properties in the derived object</span></li></ul><h2 class="c34" id="h.almbd3gfqvjc"><span class="c11">Example</span></h2><p class="c4"><span>Suppose we have an object </span><span class="c40">A</span><span>&nbsp;with properties </span><span class="c15">&ldquo;title&rdquo;</span><span>, </span><span class="c15">&ldquo;weight&rdquo;</span><span>&nbsp;and </span><span class="c15">&ldquo;color&rdquo;</span><span>, and we have an object </span><span class="c40">B</span><span>&nbsp;that inherits all properties of </span><span class="c40">A</span><span>, overrides </span><span class="c15">&ldquo;title&rdquo;</span><span>&nbsp;and </span><span class="c15">&ldquo;weight&rdquo;</span><span>&nbsp;and introduces a new property </span><span class="c15">&ldquo;colored&rdquo;</span><span class="c9 c16">. With VL such model can be converted to a such JSON:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">{</span></p><p class="c4 c25"><span class="c1">&quot;A&quot;: {</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &quot;title&quot;: &quot;Object of class A&quot;,</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &quot;weight&quot;: 3,</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &quot;color&quot;: &quot;white&quot;</span></p><p class="c4 c25"><span class="c1">},</span></p><p class="c4 c25"><span class="c1">&quot;B&quot;: {</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &quot;proto&quot;: &quot;A&quot;,</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &quot;title&quot;: &quot;Object of class B&quot;,</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &quot;weight&quot;: 45,</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &quot;colored&quot;: false</span></p><p class="c4 c25"><span class="c1">}</span></p><p class="c4"><span class="c1">}</span></p><p class="c4"><span>Here we declare </span><span class="c40">&ldquo;proto&rdquo;</span><span>&nbsp;property of object </span><span class="c40">B</span><span>&nbsp;which contains name of the inherited object. When such model is loaded using JSONLoader the object </span><span class="c40">B</span><span>&nbsp;will have a smart pointer to the object </span><span class="c40">A</span><span>&nbsp;in its </span><span class="c15">&ldquo;proto&rdquo;</span><span class="c9 c16">&nbsp;field.</span></p><p class="c4"><span class="c9 c16">You can even use objects in lists as prototypes. For example:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">{</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;orange&quot;: {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;fruitList.[0]&quot;,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;title&quot;: &quot;Orange&quot;</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;apple&quot;: {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;fruitList.[0]&quot;,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;title&quot;: &quot;Apple&quot;</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;fruitList&quot;: [</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;title&quot;: &quot;Fruit&quot;</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;fruitList.[0]&quot;,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;title&quot;: &quot;Orange&quot;</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;fruitList.[0]&quot;,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;title&quot;: &quot;Apple&quot;</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ]</span></p><p class="c4"><span class="c1">}</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span>Here </span><span class="c40">fruitList </span><span>is a List which contains all fruit including the one with title </span><span class="c15">&ldquo;Fruit&rdquo;</span><span>&nbsp;which is used as a prototype for all other objects. </span><span class="c15">&ldquo;Orange&rdquo;</span><span>&nbsp;and </span><span class="c15">&ldquo;Apple&rdquo;</span><span>&nbsp;are objects stored in both a fruitlist as elements and in a root node with keys </span><span class="c15">&ldquo;orange&rdquo;</span><span>&nbsp;and </span><span class="c15">&ldquo;apple&rdquo;</span><span>. It doesn&rsquo;t matter how the fruitList will be changed, it won&rsquo;t affect the proto reference as it is stored in memory just as a C++ shared pointer to the </span><span class="c15">&ldquo;Fruit&rdquo;</span><span>&nbsp;object and what you see in the JSON is just a single-moment text representation of the model from the memory, so even if the Fruit shifts to a second position in the list it will be referenced in the all </span><span class="c15">&ldquo;proto&rdquo;</span><span>&nbsp;fields as </span><span class="c33 c44">&ldquo;</span><span class="c15 c33">fruitList.[1]&rdquo;</span><span class="c9 c16">.</span></p><h1 class="c30" id="h.wtnu7xxgdotl"><span class="c31 c16">Performance and memory</span></h1><ul class="c49 lst-kix_7c4ahfbmxbcz-0 start"><li class="c4 c17 li-bullet-0"><span class="c9 c16">All variable types contain only as much data as it is needed to store the value.</span></li><li class="c4 c17 li-bullet-0"><span>There are no parent references in the variable tree. Instead of this applications (e.x. </span><span class="c40">QVL</span><span>) use a </span><span class="c40">separated backward-traversable tree</span><span>&nbsp;structure (</span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_var_tree_node.html&amp;sa=D&amp;source=editors&amp;ust=1647967228458365&amp;usg=AOvVaw1RjjlrCqEwMIvetU7MY_0N">VLBackwardTraversable</a></span><span>) in conjunction with </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_observer.html&amp;sa=D&amp;source=editors&amp;ust=1647967228458594&amp;usg=AOvVaw1ADybTVwHRg06YMGihg_3d">Observer</a></span><span class="c9 c16">&nbsp;pattern for sending changings notifications what allow to synchronize that tree with the variable tree.</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">Assigning a container to a container does not do a deep-copy. Instead of this it just copies the pointer to it&rsquo;s data to a new variable.</span></li><li class="c4 c17 li-bullet-0"><span>Objects use </span><span class="c40">std::unordered_map</span><span>&nbsp;for storing the data which allows to achieve O(1) time complexity. Lists use </span><span class="c40">std::vector</span><span class="c9 c16">&nbsp;which also allows to achieve constant average complexity O(1) for random acces, addition and removal from the back.</span></li></ul><h2 class="c34" id="h.r1q0gg7eq81o"><span class="c11">Time complexity</span></h2><a id="t.905ab8127c187ab7a609398768d96a4ed2947477"></a><a id="t.2"></a><table class="c42"><tbody><tr class="c24"><td class="c12" colspan="1" rowspan="1"><p class="c21 c20"><span class="c9 c16"></span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c21"><span class="c5">Object</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c21"><span class="c5">List</span></p></td></tr><tr class="c24"><td class="c12" colspan="1" rowspan="1"><p class="c21"><span class="c5">Access</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c21"><span class="c38 c16">O(1)</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c21"><span class="c38 c16">O(1)</span></p></td></tr><tr class="c24"><td class="c12" colspan="1" rowspan="1"><p class="c21"><span class="c5">Addition</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c21"><span class="c38 c16">O(1)</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c21"><span class="c16 c38">O(1) back, O(n) in the middle</span></p></td></tr><tr class="c24"><td class="c12" colspan="1" rowspan="1"><p class="c21"><span class="c5">Removal</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c21"><span class="c38 c16">O(1)</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c21"><span class="c38 c16">O(1) back, O(n) from the middle</span></p></td></tr></tbody></table><p class="c4 c20"><span class="c9 c16"></span></p><h1 class="c30" id="h.nj3jiic2jvm"><span class="c31 c16">Extensibility</span></h1><ul class="c49 lst-kix_bhokhav9482l-0 start"><li class="c4 c17 li-bullet-0"><span>VL uses </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_observer.html&amp;sa=D&amp;source=editors&amp;ust=1647967228463794&amp;usg=AOvVaw3NGYqSyzutgYAmA7O28uWw">Observer</a></span><span class="c9 c16">&nbsp;mechanism to emit notifications about changings in data which allows any external objects to subscribe on changings and synchronize with the model without depending on it&rsquo;s implementation.</span></li><li class="c4 c17 li-bullet-0"><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_visitor.html&amp;sa=D&amp;source=editors&amp;ust=1647967228464182&amp;usg=AOvVaw2VaGrqr7BB6OaCDwh7J1Sw">Visitor</a></span><span>&nbsp;pattern is applied (used by </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_j_s_o_n_converter.html&amp;sa=D&amp;source=editors&amp;ust=1647967228464427&amp;usg=AOvVaw1ClLrA923lk7ma3mLKno7B">JSONConverter</a></span><span class="c9 c16">) in VL and lets you traverse the variable tree using your own visitor that could invoke any code on a tree node.</span></li><li class="c4 c17 li-bullet-0"><span>Any variable type, including </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_abstract_var.html&amp;sa=D&amp;source=editors&amp;ust=1647967228464782&amp;usg=AOvVaw3xfdOxfU9fvR7oHfPYbRR-">AbstractVar</a></span><span class="c9 c16">&nbsp;is public and can be inherited to introduce new data and variable types.</span></li><li class="c4 c17 li-bullet-0"><span class="c9 c16">There are some in-box extensions for VL:</span></li></ul><ul class="c49 lst-kix_bhokhav9482l-1 start"><li class="c4 c35 li-bullet-0"><span class="c29 c33"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_j_s_o_n_converter.html&amp;sa=D&amp;source=editors&amp;ust=1647967228465160&amp;usg=AOvVaw1B-ahRn6_FddtOjedX2xn2">JSONConverter</a></span><span>&nbsp;implemented through </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_visitor.html&amp;sa=D&amp;source=editors&amp;ust=1647967228465340&amp;usg=AOvVaw1zzIpiI0MLul7GJzuxpPv1">Visitor</a></span><span class="c9 c16">&nbsp;pattern to serialize/deserialize a model using JSON format</span></li><li class="c4 c35 li-bullet-0"><span class="c29 c33"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_var_tree_node.html&amp;sa=D&amp;source=editors&amp;ust=1647967228465600&amp;usg=AOvVaw0rEaaxkM2GFVKqFW1YJoQF">VLBackwardTraversible</a></span><span class="c9 c16">&nbsp;implemented through Observer pattern for accessing a parent of any variable without affecting the result storage and memory size of the data.</span></li></ul><h1 class="c30" id="h.p0mutcdhy11l"><span class="c16 c31">Usage</span></h1><h2 class="c34" id="h.l4xs9xjcqexq"><span class="c11">Create a variable</span></h2><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;s </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">String</span><span class="c8">(</span><span class="c14">&quot;Hello&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;s.</span><span class="c18">Val</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2 c9">&nbsp;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;n </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Number</span><span class="c8">(</span><span class="c39 c22">321.4</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;n.</span><span class="c18">Val</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2 c9">&nbsp;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;b </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Bool</span><span class="c8">(</span><span class="c22 c23">true</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c8">(</span><span class="c2">b.</span><span class="c18">Val</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c3">?</span><span class="c2">&nbsp;</span><span class="c14">&quot;true&quot;</span><span class="c2">&nbsp;</span><span class="c3">:</span><span class="c2">&nbsp;</span><span class="c14">&quot;false&quot;</span><span class="c8">)</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c9 c16">Output:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">Hello</span></p><p class="c4"><span class="c1">321.4</span></p><p class="c4"><span class="c22">true</span></p><h2 class="c34" id="h.djxahjb9milp"><span class="c11">Create a container</span></h2><h3 class="c43" id="h.bod31shftt4s"><span class="c13">Object</span></h3><p class="c4"><span>You can put any variable to an object. There is a handy method </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_object_var.html%23a101a8fc18349c17686282b99b38e246a&amp;sa=D&amp;source=editors&amp;ust=1647967228473774&amp;usg=AOvVaw0GT-9FpMjtOrEz4BYc4TVy">ForeachProp(pred)</a></span><span>&nbsp;for object&rsquo;s properties iteration. To print the value of a variable the method </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_abstract_var.html%23ac259f8b491dc6f0f8c36cc38a6676451&amp;sa=D&amp;source=editors&amp;ust=1647967228474189&amp;usg=AOvVaw3Hv14QggqBFAIy-G9icfmh">ToStr()</a></span><span class="c9 c16">&nbsp;is used</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c28 c22">// Create an object with some fields</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;pear </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;isFruit&quot;</span><span class="c2">, </span><span class="c22 c23">true</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;color&quot;</span><span class="c2">, </span><span class="c14">&quot;Yellow&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;radius&quot;</span><span class="c2">, </span><span class="c39 c22">0.3f</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;branchCount&quot;</span><span class="c2">, </span><span class="c0">1</span><span class="c8">)</span><span class="c3 c9">;</span></p><p class="c4 c20"><span class="c3 c9"></span></p><p class="c4"><span class="c22 c28">// Print the content</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;Object content:</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">ForeachProp</span><span class="c8">([</span><span class="c32 c22">&amp;</span><span class="c8">](</span><span class="c22 c23">auto</span><span class="c22 c32">&amp;</span><span class="c2">&nbsp;k, </span><span class="c22 c23">auto</span><span class="c32 c22">&amp;</span><span class="c2">&nbsp;v</span><span class="c8">)</span><span class="c2">&nbsp;</span><span class="c8">{</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;k </span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;]: &quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;v.</span><span class="c18">ToStr</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c22 c23">return</span><span class="c2">&nbsp;</span><span class="c22 c23">true</span><span class="c3">;</span></p><p class="c4"><span class="c8">})</span><span class="c3">;</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c9 c16">Output:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">Object content:</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [isFruit]: true</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [color]: Yellow</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [radius]: 0.3</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [branchCount]: 1</span></p><p class="c4 c20"><span class="c1"></span></p><h3 class="c43" id="h.qshpwrip2ron"><span class="c13">List</span></h3><p class="c4"><span class="c9 c16">The same with Lists. Any variable can be put to any container.</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c28 c22">// Create a list with differently-typed elements</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;list </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">List</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">list.</span><span class="c18">Add</span><span class="c8">(</span><span class="c2">pear</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">list.</span><span class="c18">Add</span><span class="c8">(</span><span class="c2">vl</span><span class="c3">::</span><span class="c18">String</span><span class="c8">(</span><span class="c14">&quot;A text&quot;</span><span class="c8">))</span><span class="c3">;</span></p><p class="c4"><span class="c2">list.</span><span class="c18">Add</span><span class="c8">(</span><span class="c2">vl</span><span class="c3">::</span><span class="c18">Bool</span><span class="c8">(</span><span class="c22 c23">true</span><span class="c8">))</span><span class="c3">;</span></p><p class="c4"><span class="c2">list.</span><span class="c18">Add</span><span class="c8">(</span><span class="c2">vl</span><span class="c3">::</span><span class="c18">Number</span><span class="c8">(</span><span class="c0">41</span><span class="c8">))</span><span class="c3">;</span></p><p class="c4 c20"><span class="c2 c9"></span></p><p class="c4"><span class="c28 c22">// Print the content</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;</span><span class="c26">\n</span><span class="c14">List content:</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">for</span><span class="c2">&nbsp;</span><span class="c8">(</span><span class="c22 c23">int</span><span class="c2">&nbsp;i </span><span class="c27 c22">=</span><span class="c2">&nbsp;</span><span class="c0">0</span><span class="c3">;</span><span class="c2">&nbsp;i </span><span class="c27 c22">&lt;</span><span class="c2">&nbsp;list.</span><span class="c18">Size</span><span class="c8">()</span><span class="c3">;</span><span class="c2">&nbsp;i</span><span class="c32 c22">++</span><span class="c8">)</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;i </span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;]: &quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;list.</span><span class="c18">At</span><span class="c8">(</span><span class="c2">i</span><span class="c8">)</span><span class="c2">.</span><span class="c18">ToStr</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c9 c37">&nbsp;</span></p><p class="c4"><span class="c9 c16">Output:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">List content:</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [0]: {}</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [1]: A text</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [2]: true</span></p><p class="c4"><span class="c22">&nbsp; &nbsp; &nbsp; &nbsp; [3]: 41</span></p><h2 class="c34" id="h.yfqqqf1ejjsc"><span class="c11">Set a prototype</span></h2><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;fruit </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">fruit.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;isFruit&quot;</span><span class="c2">, </span><span class="c22 c23">true</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">fruit.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;title&quot;</span><span class="c2">, </span><span class="c14">&quot;Fruit&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">fruit.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;color&quot;</span><span class="c2">, </span><span class="c14">&quot;Green&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">fruit.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;radius&quot;</span><span class="c2">, </span><span class="c39 c22">0.2f</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">fruit.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;branchCount&quot;</span><span class="c2">, </span><span class="c0">0</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2 c9">&nbsp;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;pear </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">SetPrototype</span><span class="c8">(</span><span class="c2">fruit</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;title&quot;</span><span class="c2">, </span><span class="c14">&quot;Pear&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;color&quot;</span><span class="c2">, </span><span class="c14">&quot;Yellow&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;radius&quot;</span><span class="c2">, </span><span class="c22 c39">0.3f</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;branchCount&quot;</span><span class="c2">, </span><span class="c0">1</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;isSweet&quot;</span><span class="c2">, </span><span class="c22 c23">true</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2 c9">&nbsp;</span></p><p class="c4"><span class="c28 c22">// Print the content</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;pear.</span><span class="c18">Get</span><span class="c8">(</span><span class="c14">&quot;title&quot;</span><span class="c8">)</span><span class="c2">.</span><span class="c18">AsString</span><span class="c8">()</span><span class="c2">.</span><span class="c18">Val</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot; properties:</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">ForeachProp</span><span class="c8">([</span><span class="c32 c22">&amp;</span><span class="c8">](</span><span class="c22 c23">auto</span><span class="c32 c22">&amp;</span><span class="c2">&nbsp;k, </span><span class="c22 c23">auto</span><span class="c32 c22">&amp;</span><span class="c2">&nbsp;v</span><span class="c8">)</span><span class="c2">&nbsp;</span><span class="c8">{</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;k </span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;]: &quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;v.</span><span class="c18">ToStr</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c22 c23">return</span><span class="c2">&nbsp;</span><span class="c22 c23">true</span><span class="c3">;</span></p><p class="c4"><span class="c8">}</span><span class="c2">, </span><span class="c22 c23">true</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c9 c16">Output:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">Pear properties:</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [title]: Pear</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [proto]: {}</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [color]: Yellow</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [radius]: 0.3</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [branchCount]: 1</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [isSweet]: true</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [isFruit]: true</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span>As you can see the result object contain properties of both Pear and Fruit. Retrieving a particular property using </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_object_var.html%23ab4232f6f006dff1f1204541da762f714&amp;sa=D&amp;source=editors&amp;ust=1647967228505300&amp;usg=AOvVaw08rZ8KjfrUX_71FNQ9vmbs">Get(propId)</a></span><span class="c9 c16">&nbsp;method returns the last overload.</span></p><h2 class="c34" id="h.u4w4a4s0qsqx"><span class="c11">JS-like behaviour</span></h2><p class="c4"><span class="c9 c16">VL is designed such a way that any container is always shared when assigned and any basic type is copied by default. To deep-copy a container there is a method Copy() for that. It is similar to JS: when you create a variable of an object or a list and assign it to another variable and then change something in it - it will be affected both variables.</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c9 c16">For example the code below:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c2">&nbsp;o</span><span class="c3">;</span></p><p class="c4"><span class="c2">o.</span><span class="c18">Set</span><span class="c8">(</span><span class="c2">&ldquo;title&rdquo;, &ldquo;Fruit&rdquo;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;a </span><span class="c27 c22">=</span><span class="c2">&nbsp;o</span><span class="c3">;</span></p><p class="c4"><span class="c2">a.</span><span class="c18">Set</span><span class="c8">(</span><span class="c2">&ldquo;title&rdquo;, &ldquo;Vegetable&rdquo;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;o.</span><span class="c18">Get</span><span class="c8">(</span><span class="c2">&ldquo;title&rdquo;</span><span class="c8">)</span><span class="c2">.</span><span class="c18">AsString</span><span class="c8">()</span><span class="c2">.</span><span class="c18">Val</span><span class="c8">()</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;&ldquo;\n&rdquo;</span><span class="c3">;</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c9 c16">Will print:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">&gt; Vegetable</span></p><h1 class="c30" id="h.jngt6c6t06zj"><span class="c31 c16">JSON Converter</span></h1><p class="c4"><span class="c9 c16">Using JSONConverter you can write and read JSON files from and to an Object.</span></p><h2 class="c34" id="h.gu9nkm19e5w2"><span class="c11">Writing</span></h2><p class="c4"><span>Here we create a little bit complicated data structure and store it to a file &ldquo;write_test.json&rdquo;. After that we use method </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_j_s_o_n_converter.html%23a5df6b603d3c52055b287726414a430bf&amp;sa=D&amp;source=editors&amp;ust=1647967228510067&amp;usg=AOvVaw1sW0-pr9VmL8hYrBL7p6np">JSONConverter::JSONStr</a></span><span class="c9 c16">&nbsp;to just print the model without storing it.</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;pear </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;isFruit&quot;</span><span class="c2">, </span><span class="c22 c23">true</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;color&quot;</span><span class="c2">, </span><span class="c14">&quot;Yellow&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;radius&quot;</span><span class="c2">, </span><span class="c39 c22">0.3f</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">pear.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;branchCount&quot;</span><span class="c2">, </span><span class="c0">1</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;bush </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">bush.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;leafColor&quot;</span><span class="c2">, </span><span class="c14">&quot;Green&quot;</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">bush.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;isTree&quot;</span><span class="c2">, </span><span class="c22 c23">true</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">bush.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;leafPerBranch&quot;</span><span class="c2">, </span><span class="c0">6</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">bush.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;branches&quot;</span><span class="c2">, vl</span><span class="c3">::</span><span class="c18">List</span><span class="c8">())</span><span class="c3">;</span></p><p class="c4"><span class="c2">bush.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;x&quot;</span><span class="c2">, </span><span class="c0">0</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">bush.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;y&quot;</span><span class="c2">, </span><span class="c0">0</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;branch </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">branch.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;leafCount&quot;</span><span class="c2">, </span><span class="c0">10</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">branch.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;fruit&quot;</span><span class="c2">, vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c8">())</span><span class="c3">;</span></p><p class="c4"><span class="c2">branch.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;branches&quot;</span><span class="c2">, vl</span><span class="c3">::</span><span class="c18">List</span><span class="c8">())</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;branch1 </span><span class="c22 c27">=</span><span class="c2">&nbsp;branch.</span><span class="c18">Copy</span><span class="c8">()</span><span class="c32 c22">-</span><span class="c27 c22">&gt;</span><span class="c2">AsObject</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">branch1.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;leafCount&quot;</span><span class="c2">, </span><span class="c0">9</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;branch2 </span><span class="c27 c22">=</span><span class="c2">&nbsp;branch.</span><span class="c18">Copy</span><span class="c8">()</span><span class="c32 c22">-</span><span class="c27 c22">&gt;</span><span class="c2">AsObject</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">branch2.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;leafCount&quot;</span><span class="c2">, </span><span class="c0">3</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">branch2.</span><span class="c18">Set</span><span class="c8">(</span><span class="c14">&quot;fruit&quot;</span><span class="c2">, pear</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">branch1.</span><span class="c18">Get</span><span class="c8">(</span><span class="c14">&quot;branches&quot;</span><span class="c8">)</span><span class="c2">.</span><span class="c18">AsList</span><span class="c8">()</span><span class="c2">.</span><span class="c18">Add</span><span class="c8">(</span><span class="c2">branch2</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">bush.</span><span class="c18">Get</span><span class="c8">(</span><span class="c14">&quot;branches&quot;</span><span class="c8">)</span><span class="c2">.</span><span class="c18">AsList</span><span class="c8">()</span><span class="c2">.</span><span class="c18">Add</span><span class="c8">(</span><span class="c2">branch1</span><span class="c8">)</span><span class="c3">;</span></p><p class="c4"><span class="c2">vl</span><span class="c3">::</span><span class="c18">JSONConverter</span><span class="c2">&nbsp;converter</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">const</span><span class="c2">&nbsp;</span><span class="c22 c23">char</span><span class="c32 c22">*</span><span class="c2">&nbsp;fName </span><span class="c27 c22">=</span><span class="c2">&nbsp;</span><span class="c14">&quot;write_test.json&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">if</span><span class="c2">&nbsp;</span><span class="c8">(</span><span class="c2">converter.</span><span class="c18">Store</span><span class="c8">(</span><span class="c2">bush, TypeResolver</span><span class="c8">()</span><span class="c2">, fName, </span><span class="c8">{</span><span class="c22 c23">true</span><span class="c8">}))</span></p><p class="c4"><span class="c8">{</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;Stored to &#39;&quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;fName </span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;&#39;:</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;converter.</span><span class="c18">JSONStr</span><span class="c8">(</span><span class="c2">bush, TypeResolver</span><span class="c8">()</span><span class="c2">, </span><span class="c8">{</span><span class="c2">&nbsp;</span><span class="c22 c23">true</span><span class="c2">&nbsp;</span><span class="c8">})</span><span class="c3">;</span></p><p class="c4"><span class="c8">}</span></p><p class="c4"><span class="c22 c23">else</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;Store error</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3 c9">;</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c9 c16">Output:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">Stored to &#39;write_test.json&#39;:</span></p><p class="c4"><span class="c1">{</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;leafColor&quot;: &quot;Green&quot;,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;isTree&quot;: true,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;y&quot;: 0,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;leafPerBranch&quot;: 6,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;branches&quot;: [</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;leafCount&quot;: 10,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;fruit&quot;: {},</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;branches&quot;: [</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;leafCount&quot;: 10,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;fruit&quot;: {},</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;branches&quot;: []</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; ],</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;x&quot;: 0</span></p><p class="c4"><span class="c1">}</span></p><p class="c4 c20"><span class="c9 c16"></span></p><h2 class="c34" id="h.x3b3rnl8q1pa"><span class="c11">Reading</span></h2><p class="c4"><span class="c9 c16">Let&rsquo;s load the json generated in the previous example.</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c22 c23">auto</span><span class="c2">&nbsp;converter </span><span class="c27 c22">=</span><span class="c2">&nbsp;vl</span><span class="c3">::</span><span class="c18">JSONConverter</span><span class="c8">()</span><span class="c3">;</span></p><p class="c4"><span class="c2">vl</span><span class="c3">::</span><span class="c18">Object</span><span class="c2">&nbsp;object</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">const</span><span class="c2">&nbsp;</span><span class="c22 c23">char</span><span class="c32 c22">*</span><span class="c2">&nbsp;fName </span><span class="c27 c22">=</span><span class="c2">&nbsp;</span><span class="c14">&quot;write_test.json&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c22 c23">if</span><span class="c2">&nbsp;</span><span class="c8">(</span><span class="c2">converter.</span><span class="c18">Load</span><span class="c8">(</span><span class="c2">object, fName</span><span class="c8">))</span></p><p class="c4"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;Loaded from &#39;&quot;</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;fName </span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;</span><span class="c14">&quot;&#39;:</span><span class="c26">\n</span><span class="c14">&quot;</span><span class="c3">;</span></p><p class="c4"><span class="c2">std</span><span class="c3">::</span><span class="c0">cout</span><span class="c2">&nbsp;</span><span class="c27 c22">&lt;&lt;</span><span class="c2">&nbsp;converter.</span><span class="c18">JSONStr</span><span class="c8">(</span><span class="c2">object, TypeResolver</span><span class="c8">()</span><span class="c2">, </span><span class="c8">{</span><span class="c2">&nbsp;</span><span class="c22 c23">true</span><span class="c2">&nbsp;</span><span class="c8">})</span><span class="c3 c9">;</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c9 c16">Output:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">Loaded from &#39;write_test.json&#39;:</span></p><p class="c4"><span class="c1">{</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;leafColor&quot;: &quot;Green&quot;,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;isTree&quot;: true,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;leafPerBranch&quot;: 6,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;y&quot;: 0,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;branches&quot;: [</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;leafCount&quot;: 10,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;branches&quot;: [</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;leafCount&quot;: 10,</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;branches&quot;: [],</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;fruit&quot;: {}</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;fruit&quot;: {}</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; ],</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;x&quot;: 0</span></p><p class="c4"><span class="c1">}</span></p><p class="c4 c20"><span class="c9 c16"></span></p><h2 class="c34" id="h.v6yf0pt26q9y"><span class="c11">Limitations</span></h2><p class="c4"><span>As VL doesn&rsquo;t store links to parents in it&rsquo;s core implementation, you cannot get a human-readable identifier of a prototype without specifying </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/class_type_resolver.html&amp;sa=D&amp;source=editors&amp;ust=1647967228544496&amp;usg=AOvVaw2ojL7290cV6WRPKwERjLwN">TypeResolver</a></span><span>&nbsp;to JSONConverter methods, but it is implemented in the </span><span class="c40">DMBCore</span><span>&nbsp;library that provides some utility for working with typed objects and has its own TypeResolver based on </span><span class="c29"><a class="c10" href="https://www.google.com/url?q=https://vllibrary.tech/docs/VL/classvl_1_1_var_tree_node.html&amp;sa=D&amp;source=editors&amp;ust=1647967228544905&amp;usg=AOvVaw3QgjIkaXkJiwhTZT5ISpsv">VLBackwardTraversable</a></span><span class="c9 c16">&nbsp;extension, so you can store and load JSONS like these:</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">{</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;New object&quot;: {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;count&quot;: 3</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &quot;Concrete_New object&quot;: {</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;New object&quot;</span></p><p class="c4"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c4"><span class="c1">}</span></p><p class="c4 c20"><span class="c1"></span></p><p class="c4"><span class="c9 c16">or</span></p><p class="c4 c20"><span class="c9 c16"></span></p><p class="c4"><span class="c1">{</span></p><p class="c4 c25"><span class="c1">&quot;fruitList&quot;: [</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; {</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;title&quot;: &quot;Fruit&quot;</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; {</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;proto&quot;: &quot;fruitList.[0]&quot;,</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &quot;title&quot;: &quot;Orange&quot;</span></p><p class="c4 c25"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c4 c25"><span class="c1">]</span></p><p class="c4"><span class="c22">}</span></p></body></html>